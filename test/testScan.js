const cfg = require('../config.json');
const compileBin = require('../gen_modules/compileBin').build;
const scan = require('../gen_modules/searchArea').scan;

let libraryTestScan = [
    [
        ['{}+A+B+C+D+E+F+G+H+I+J+K+L+M+N+O+P+Q+R+S+T+U+V+W+X+Y+Z+{}'],
        ['{}+A'],
        ['A'],
        ['{}+A+{}'],
        ['A+{}'],
        ['{}+B'],
        ['B'],
        ['{}+B+{}'],
        ['B+{}'],
        ['{}+C'],
        ['C'],
        ['{}+C+{}'],
        ['C+{}'],
        ['{}+D'],
        ['D'],
        ['{}+D+{}'],
        ['D+{}'],
        ['{}+E'],
        ['E'],
        ['{}+E+{}'],
        ['E+{}'],
        ['{}+F'],
        ['F'],
        ['{}+F+{}'],
        ['F+{}'],
        ['{}+G'],
        ['G'],
        ['{}+G+{}'],
        ['G+{}'],
        ['{}+H'],
        ['H'],
        ['{}+H+{}'],
        ['H+{}'],
        ['{}+I'],
        ['I'],
        ['{}+I+{}'],
        ['I+{}'],
        ['{}+J'],
        ['J'],
        ['{}+J+{}'],
        ['J+{}'],
        ['{}+K'],
        ['K'],
        ['{}+K+{}'],
        ['K+{}'],
        ['{}+L'],
        ['L'],
        ['{}+L+{}'],
        ['L+{}'],
        ['{}+M'],
        ['M'],
        ['{}+M+{}'],
        ['M+{}'],
        ['{}+N'],
        ['N'],
        ['{}+N+{}'],
        ['N+{}'],
        ['{}+O'],
        ['O'],
        ['{}+O+{}'],
        ['O+{}'],
        ['{}+P'],
        ['P'],
        ['{}+P+{}'],
        ['P+{}'],
        ['{}+Q'],
        ['Q'],
        ['{}+Q+{}'],
        ['Q+{}'],
        ['{}+R'],
        ['R'],
        ['{}+R+{}'],
        ['R+{}'],
        ['{}+S'],
        ['S'],
        ['{}+S+{}'],
        ['S+{}'],
        ['{}+T'],
        ['T'],
        ['{}+T+{}'],
        ['T+{}'],
        ['{}+U'],
        ['U'],
        ['{}+U+{}'],
        ['U+{}'],
        ['{}+V'],
        ['V'],
        ['{}+V+{}'],
        ['V+{}'],
        ['{}+W'],
        ['W'],
        ['{}+W+{}'],
        ['W+{}'],
        ['{}+Y'],
        ['Y'],
        ['{}+Y+{}'],
        ['Y+{}'],
        ['{}+Z'],
        ['Z'],
        ['{}+Z+{}'],
        ['Z+{}'],
    ],
    [
        ['{}+a+b+c+d+e+f+g+h+i+j+k+l+m+n+o+p+q+r+s+t+u+v+w+x+y+z+{}'],
        ['{}+a'],
        ['a'],
        ['a+{}'],
        ['{}+b'],
        ['b'],
        ['b+{}'],
        ['{}+c'],
        ['c'],
        ['c+{}'],
        ['{}+d'],
        ['d'],
        ['d+{}'],
        ['{}+e'],
        ['e'],
        ['e+{}'],
        ['{}+f'],
        ['f'],
        ['f+{}'],
        ['{}+g'],
        ['g'],
        ['g+{}'],
        ['{}+h'],
        ['h'],
        ['h+{}'],
        ['{}+i'],
        ['i'],
        ['i+{}'],
        ['{}+j'],
        ['j'],
        ['j+{}'],
        ['{}+k'],
        ['k'],
        ['k+{}'],
        ['{}+l'],
        ['l'],
        ['l+{}'],
        ['{}+m'],
        ['m'],
        ['m+{}'],
        ['{}+n'],
        ['n'],
        ['n+{}'],
        ['{}+o'],
        ['o'],
        ['o+{}'],
        ['{}+p'],
        ['p'],
        ['p+{}'],
        ['{}+q'],
        ['q'],
        ['q+{}'],
        ['{}+r'],
        ['r'],
        ['r+{}'],
        ['{}+s'],
        ['s'],
        ['s+{}'],
        ['{}+t'],
        ['t'],
        ['t+{}'],
        ['{}+u'],
        ['u'],
        ['u+{}'],
        ['{}+v'],
        ['v'],
        ['v+{}'],
        ['{}+w'],
        ['w'],
        ['w+{}'],
        ['{}+x'],
        ['x'],
        ['x+{}'],
        ['{}+y'],
        ['y'],
        ['y+{}'],
        ['{}+z'],
        ['z'],
        ['z+{}']
    ],
    [
        ['a+\\frac{a+b}{b}+A'],
        ['a'],
        ['b'],
        ['A']
    ]
]

function testScan(count, callback) {
    compileBin(libraryTestScan[count], function (result) {
        let scanResult = new Array();
        for (let i = 0; i < result.length; i++) {
            let combine = new Array();
            combine[0] = libraryTestScan[count][i];
            combine[1] = scan(cfg.precisionComparison, result[0], result[i]);
            combine[2] = result[i];
            scanResult.push(combine);
        }
        callback(null, scanResult);
    });
}

testScan(2, function(err, res){
    //console.log(res);
});

module.exports.testScan = testScan;